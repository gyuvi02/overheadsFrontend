<div class="submit-data-container" *ngIf="isLoggedIn$ | async">
  <div class="form-container">
    <h2>Submit Meter Data</h2>

    <div class="form-group">
      <label for="meterType">Meter type</label>
      <select id="meterType" [(ngModel)]="selectedMeterType">
        <option value="" disabled selected>Select meter type</option>
        <option *ngFor="let type of meterTypes" [value]="type">{{ type }}</option>
      </select>
    </div>

    <div class="form-group">
      <label for="meterValue">Meter value</label>
      <input
        type="number"
        id="meterValue"
        [(ngModel)]="meterValue"
        placeholder="Enter meter value"
        step="0.01"
      >
    </div>

    <div class="form-group">
      <div class="file-upload-container">
        <input
          type="file"
          id="imageUpload"
          (change)="onFileSelected($event)"
          accept=".png,.tiff,.jpg,.jpeg"
        >
        <label for="imageUpload">Upload image</label>
        <span class="file-name" *ngIf="selectedFile">{{ selectedFile.name }}</span>
        <span class="file-name empty-file" *ngIf="!selectedFile">No file selected</span>
        <button appButton (click)="onSubmitImage()">Upload</button>
      </div>
      <small>Max size: 10MB. Allowed formats: PNG, TIFF, JPG, JPEG</small>
    </div>

    <div class="submit-button-container">
      <button appButton (click)="onSubmitData()">Submit</button>
    </div>
  </div>
</div>
